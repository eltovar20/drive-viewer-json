{"files":[{"id":"1c639f4a-e043-4066-8fe4-5a36129ded56","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"America/Caracas\",\n  \"dependencies\": {\n  },\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\"\n}"},{"id":"0635e818-5f7a-415e-a8b2-46bd27204a52","name":"Código","type":"server_js","source":"function buildDriveTreeToFile() {\n  const root \u003d DriveApp.getRootFolder();\n  const tree \u003d folderToJson(root);\n  const json \u003d JSON.stringify(tree, null, 2);\n  DriveApp.createFile(\u0027drive_data.json\u0027, json, MimeType.PLAIN_TEXT);\n}\n\n/**\n * Convierte una carpeta en JSON enriquecido con ID, URL y fecha\n */\nfunction folderToJson(folder) {\n  const children \u003d [];\n\n  const folders \u003d folder.getFolders();\n  while (folders.hasNext()) {\n    const sub \u003d folders.next();\n    children.push(folderToJson(sub));\n  }\n\n  const files \u003d folder.getFiles();\n  while (files.hasNext()) {\n    const file \u003d files.next();\n    children.push({\n      name: file.getName(),\n      type: \"file\",\n      mimeType: file.getMimeType(),\n      id: file.getId(),\n      url: \"https://drive.google.com/file/d/\" + file.getId(),\n      lastUpdated: file.getLastUpdated().toISOString()\n    });\n  }\n\n  return {\n    name: folder.getName(),\n    type: \"folder\",\n    children: children\n  };\n}\n\n/**\n * Exporta cada carpeta raíz como un archivo JSON independiente\n */\nfunction exportEachRootFolder() {\n  const folders \u003d DriveApp.getRootFolder().getFolders();\n\n  while (folders.hasNext()) {\n    const folder \u003d folders.next();\n    const tree \u003d folderToJson(folder);\n    const json \u003d JSON.stringify(tree, null, 2);\n    DriveApp.createFile(folder.getName() + \u0027.json\u0027, json, MimeType.PLAIN_TEXT);\n  }\n}\n"}]}